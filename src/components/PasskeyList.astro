---
const projectId = import.meta.env.DEV
  ? import.meta.env.PUBLIC_CORBADO_PROJECT_ID_DEV
  : import.meta.env.PUBLIC_CORBADO_PROJECT_ID_PROD;
---

<div id="passkey-list"></div>
<script type="module" define:vars={{ projectId }}>
  const loadCorbadoProject = async () => {
    await Corbado.load({
      projectId: projectId,
    });
  };

  const initializePasskeyList = async () => {
    await loadCorbadoProject();

    const passkeyListElement = document.getElementById("passkey-list");
    if (Corbado.user) {
      Corbado.mountPasskeyListUI(passkeyListElement);
    }
  };

  initializePasskeyList();
</script>
